# Car Diagnostics System

**Front-end:** Nuxt.js 4  
**Back-end:** FastAPI  
**Database:** PostgreSQL  

## Описание проекта

Это система диагностики автомобилей, разработанная для управления гаражами, пользователями и ассистентами. Проект включает в себя веб-приложение с разделением на роли: администратор, пользователь и ассистент.

## Текущий статус разработки

### Backend (FastAPI)
- **Скелет приложения:** Основная структура FastAPI с модульной архитектурой.
- **Модели данных:** Определены модели для пользователей, автомобилей и заявок на обслуживание (models.py).
- **Схемы:** Pydantic схемы для валидации данных (schemas.py).
- **База данных:** Подключение к PostgreSQL через SQLAlchemy (db.py).
- **API endpoints:**
  - `auth.py`: Аутентификация и авторизация (login, logout).
  - `cars.py`: Управление автомобилями (CRUD для автомобилей пользователя).
  - `users.py`: Управление пользователями (CRUD, только для админов).
  - `deps.py`: Зависимости для API (проверка ролей).
- **Безопасность:** Модуль безопасности (core/security.py) с JWT и хэшированием паролей.
- **Зависимости:** requirements.txt с необходимыми пакетами.

### Frontend (Nuxt 4)
- **Фреймворк:** Nuxt 4 с TypeScript.
- **Стилизация:** Tailwind CSS.
- **Аутентификация:** Форма логина (LoginForm.vue), middleware для аутентификации (auth.ts) и ролей (role.ts).
- **Страницы:**
  - `login.vue`: Страница входа в систему.
  - `403.vue`: Страница ошибки доступа (запрещено).
  - `admin/garage.vue`: Панель администратора для просмотра и управления заявками на обслуживание автомобилей.
  - `user/garage.vue`: Панель пользователя для просмотра своих автомобилей и отправки их в СТО.
  - `assistant/index.vue`: Главная страница ассистента.
  - `assistant/[id].vue`: Детальная страница ассистента.
  - `profile/[id].vue`: Профиль пользователя.
- **Компоненты:** Переиспользуемые компоненты, такие как Header, Footer, AssistantSidebar.
- **Stores:** Pinia store для аутентификации (auth.ts).
- **Layouts:** Разные layouts для разных ролей (default.vue, assistant.vue).

### Инфраструктура
- **Docker Compose:** docker-compose.yml для запуска PostgreSQL базы данных.

## Архитектура проекта
- **Backend:** REST API на FastAPI для обработки запросов.
- **Frontend:** SPA на Nuxt 4 с роутингом и управлением состоянием.
- **База данных:** PostgreSQL для хранения данных.
- **Дополнительно:** Docker Compose для контейнеризации.

## Запуск проекта
1. Установите зависимости для backend: `pip install -r backend/requirements.txt`
2. Установите зависимости для frontend: `npm install` в папке frontend/
3. Запустите базу данных через Docker: `docker-compose up -d`
4. Запустите backend: `uvicorn backend.app.main:app --reload`
5. Запустите frontend: `npm run dev` в папке frontend/

## Следующие шаги
- Реализация полной функциональности API.
- Интеграция с Lab модулем для диагностики.
- Тестирование и развертывание.

## Прогресс по неделям

### Неделя 5
- **Backend:** Завершен скелет FastAPI с моделями данных (User, Car, ServiceRequest), схемами Pydantic, подключением к PostgreSQL, API для аутентификации, управления пользователями и автомобилями, безопасностью с JWT.
- **Frontend:** Реализован Nuxt 4 с аутентификацией, middleware для ролей, страницами для логина, админа (гараж с заявками), пользователя (гараж с автомобилями), ассистента и профиля.
- **Инфраструктура:** Настроен Docker Compose для PostgreSQL.
- **Общий прогресс:** Базовая функциональность веб-приложения готова, роли пользователей реализованы, CRUD операции для автомобилей и пользователей.
